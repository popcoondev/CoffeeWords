# テストデータ生成スクリプト

このディレクトリには、CoffeeWordsアプリのテストデータを生成するためのスクリプトが含まれています。

## スクリプト一覧

### 1. create-test-data.js

Node.js環境で実行するための完全なテストデータ生成スクリプトです。
プロジェクトのルートディレクトリにある`.env`ファイルからFirebase設定を読み込みます。

**使用方法:**
```bash
# 1. プロジェクトの.envファイルに以下の設定があることを確認
# FIREBASE_API_KEY=your-api-key
# FIREBASE_AUTH_DOMAIN=your-project-id.firebaseapp.com
# FIREBASE_PROJECT_ID=your-project-id
# FIREBASE_STORAGE_BUCKET=your-project-id.appspot.com
# FIREBASE_MESSAGING_SENDER_ID=your-sender-id
# FIREBASE_APP_ID=your-app-id

# 2. スクリプト実行
node scripts/create-test-data.js
```

注意: `.env`ファイルがない場合は、`.env.example`をコピーして作成し、正しい値を設定してください。

**作成されるデータ:**
- テストユーザー (3人)
- ミッションデータ (各ユーザーに3種類)
- 探検データ (各ユーザーに2件)
- 辞書データ (各ユーザーに3件)

### 2. create-test-data-simple.js

ブラウザコンソールから実行するための簡易版テストデータ生成スクリプトです。
Firebase Web SDKを使用するため、アプリ内で実行する必要があります。

**使用方法:**
1. アプリをローカルで実行し、ログイン画面を表示する
2. ブラウザのコンソールを開く
3. スクリプトの内容をコンソールにコピペして実行

**作成されるデータ:**
- テストユーザー (1人)
- ミッションデータ (3種類)
- 探検データ (1件)
- 辞書データ (2件)

### 3. create-admin-user.js

管理者ユーザーを簡単に作成するためのスクリプトです。
Firebase Web SDKを使用するため、アプリ内で実行する必要があります。

**使用方法:**
1. アプリをローカルで実行する
2. ブラウザのコンソールを開く
3. スクリプトの内容をコンソールにコピペして実行

**作成されるデータ:**
- 管理者ユーザー (email: admin@example.com, password: admin123)

## テストデータの内容

### ユーザー

- **テストユーザー1**: beginner レベル
- **テストユーザー2**: intermediate レベル
- **テストユーザー3**: advanced レベル
- **管理者ユーザー**: advanced レベル

### ミッション

- **デイリーミッション**: 今日のコーヒー探検
- **発見ミッション**: 酸味と甘みのバランスを探す
- **比較ミッション**: フルーティーな味わいを比較する

### 探検データ

- **エチオピア イルガチェフェ**: フルーティーな味わいの浅煎りコーヒー
- **ブラジル セラード**: チョコレート感のある中煎りコーヒー

### 辞書データ

- **フルーティー**: 果実の風味や香りが感じられる特徴
- **チョコレート感**: カカオやチョコレートを思わせる風味や香り
- **酸味**: コーヒーの基本的な味覚要素の一つ

## 注意事項

- テストデータを本番環境で使用する場合は、セキュリティルールを適切に設定してください
- 実際のユーザーデータと混在しないよう、テストアカウントは明確に識別できるようにしてください
- スクリプト実行前に、既存のデータをバックアップすることをお勧めします

## トラブルシューティング

- `auth/email-already-in-use`: 既に同じメールアドレスのユーザーが存在します。別のメールアドレスを使用するか、既存のユーザーを削除してください。
- `auth/invalid-credential`: ログイン情報が間違っています。正しいメールアドレスとパスワードを使用してください。
- `auth/operation-not-allowed`: Firebase Authenticationでこの操作が許可されていません。Firebase Consoleで設定を確認してください。
- `Permission denied`: Firestoreのセキュリティルールにより書き込みが拒否されました。ルールを確認してください。